/* Simple example code for Force Sensitive Resistor (FSR) with Arduino. More info: https://www.makerguides.com */
// Define FSR pin:
#define fsrpin 13
// GPIO #13 really is pin 13 on the HUZZAH32(top side)
//Define variable to store sensor readings:
int fsrreading; // Variable to store FSR value
float Vout;     // Calculated voltage value read by the fsrpin
void setup() {
  // Begin serial communication at a baud rate of 115200:
  Serial.begin(115200);
}
void loop() {
  // Read the FSR pin and store the output as fsrreading:
  fsrreading = analogRead(fsrpin);
  // Calculate the equivalent voltage 
  // Vout = Vcc * (fsrreading / (2^12 - 1))
  // ESP32 has 12 bit ADCs, thus 4095 is in the denominator
  Vout = 3.3 * (analogRead(fsrpin) / 4095.0);
  // Print the fsrreading in the serial monitor:
  // Print the string "Analog reading = ".
  Serial.print("Analog reading = ");
  // Print the fsrreading:
  Serial.print(fsrreading);
  Serial.print(" Voltage Conversion = ");
  Serial.print(Vout);
  
  // We can set some threshholds to display how much pressure is roughly applied:
  if (fsrreading < 10) {
    Serial.println(" - No pressure");
  } else if (fsrreading < 1000) {
    Serial.println(" - Light touch");
  } else if (fsrreading < 2000) {
    Serial.println(" - Light squeeze");
  } else if (fsrreading < 3000) {
    Serial.println(" - Medium squeeze");
  } else {
    Serial.println(" - Big squeeze");
  }
  delay(500); //Delay 500 ms.
}
